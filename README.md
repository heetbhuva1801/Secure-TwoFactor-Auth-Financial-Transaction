# Secure-TwoFactor-Auth-Financial-Transaction

This project demonstrates how to securely implement a financial transaction system using Two-Factor Authentication (2FA) based on Google Authenticator. The system uses AES encryption and HMAC to ensure data integrity and privacy, and employs Time-based One-Time Passwords (TOTP) for user authentication.

Features
a) User Registration: Users can register with a password and generate a unique TOTP secret for Google Authenticator.
b) Two-Factor Authentication (2FA): Users authenticate with both a password and a TOTP code generated by the Google Authenticator app.
c) AES Encryption: All transaction data is encrypted using AES (GCM mode) to ensure confidentiality.
d) HMAC for Data Integrity: Each transaction is secured with HMAC to verify that the data has not been tampered with.
e) Google Authenticator Integration: Generates a QR code for easy TOTP setup with the Google Authenticator app.


1. Run the Code
Once you run the code, it will simulate a scenario where two users (Sender and Receiver) register, authenticate via password and TOTP (Google Authenticator), and then perform a financial transaction.

2. Register Users
First, you will register two users: the Sender and the Receiver.

Sender Registration:
Prompt: Set a password for Sender:
Action: Enter a password for the Sender (e.g., password123). This will not be shown on the screen due to getpass.
QR Code Generation:
A TOTP secret key will be generated and saved as a QR code image (Sender_totp_qr.png) in your working directory.
Action: Scan the QR code with Google Authenticator:
Open the Google Authenticator app.
Tap the "+" button.
Choose "Scan a QR code" and scan the Sender_totp_qr.png image.


Receiver Registration:
Prompt: Set a password for Receiver:
Action: Enter a password for the Receiver (e.g., receiverPass).
QR Code Generation:
A TOTP secret key will be generated and saved as a QR code image (Receiver_totp_qr.png).
Action: Repeat the QR code scanning process with the Google Authenticator app:
Tap "+" button.
Choose "Scan a QR code" and scan the Receiver_totp_qr.png image.


3. User Authentication
After registering both users, you will authenticate them using both the password and the OTP generated by Google Authenticator.

Sender Authentication:
Prompt: Enter your password:
Action: Enter the password you set for the Sender earlier (e.g., password123).
Prompt: Enter the TOTP code from your Google Authenticator app:
Action: Open the Google Authenticator app, find the Sender's account, and enter the 6-digit TOTP code displayed for the Sender.
Result: If the password and TOTP code are correct, you will see:
Authentication successful!


Receiver Authentication:
Prompt: Enter your password:
Action: Enter the password you set for the Receiver earlier (e.g., receiverPass).
Prompt: Enter the TOTP code from your Google Authenticator app:
Action: Open Google Authenticator, find the Receiver's account, and enter the 6-digit TOTP code displayed for the Receiver.
Result: If the password and TOTP code are correct, you will see:
Authentication successful!


4. Perform the Financial Transaction
Once both users are authenticated, you will simulate a financial transaction.
Prompt: Enter the amount to transfer:
Action: Input the amount to transfer from Sender to Receiver (e.g., 100).
Result: The transaction will be encrypted and sent, and the receiver will decrypt the transaction. Youâ€™ll see outputs like:
Encrypted Data: b'<encrypted-data>'

Sender is sending 100 to Receiver...

Receiver is receiving the transaction...
Decrypted Data: Transfer 100 from Sender to Receiver
Data integrity verified: The data has not been tampered with.
Transaction of 100 from Sender to Receiver completed successfully.

By following these steps, you will successfully register, authenticate, and simulate a financial transaction using Google Authenticator and TOTP for 2FA.
